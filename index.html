<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marinata √âtterem - Online Rendel√©s</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #fdfdfd; margin: 0; padding: 0; color: #333; padding-bottom: 80px; }
        .banner-wrapper { position: relative; width: 100%; max-width: 1200px; margin: 0 auto; }
        .banner { width: 100%; height: 350px; background: url('banner.jpg') center center/contain no-repeat; background-color: #FFFFFF; }
        .lang-container { position: absolute; bottom: 20px; right: 20px; display: flex; gap: 12px; z-index: 1000; }
        .lang-btn { background: rgba(255, 255, 255, 0.95); border: 2px solid #25D366; padding: 12px 24px; border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 1.2rem; transition: 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.2); color: #333; }
        .lang-btn.active { background: #25D366; color: white; border-color: #25D366; }
        @media (max-width: 600px) { .banner { height: 180px; } .lang-btn { padding: 10px 18px; font-size: 1rem; } .lang-container { bottom: 10px; right: 10px; } }
        
        .container { max-width: 1200px; margin: 20px auto; display: flex; gap: 20px; padding: 0 15px; flex-wrap: wrap; }
        .categories { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 12px; flex: 3; }
        .cat-card { background: white; padding: 15px; border-radius: 12px; text-align: center; cursor: pointer; border: 1px solid #ddd; transition: 0.3s; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .cat-card:hover { border-color: #25D366; transform: translateY(-3px); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .cat-card div { font-size: 2.2rem; margin-bottom: 8px; }
        .cat-card h3 { margin: 0; font-size: 0.85rem; color: #333; text-transform: uppercase; }
        
        #menu-view { display: none; flex: 3; }
        .food-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 15px; }
        .food-item { background: white; border-radius: 10px; border: 1px solid #eee; padding: 15px; text-align: center; display: flex; flex-direction: column; justify-content: space-between; box-shadow: 0 2px 4px rgba(0,0,0,0.03); }
        .food-item strong { display: block; margin-bottom: 5px; font-size: 1.05rem; }
        .food-item span { color: #25D366; font-weight: bold; margin-bottom: 10px; font-size: 1.1rem; }
        
        .add-btn { background: #ff6600; color: white; border: none; padding: 10px; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .add-btn:disabled { background: #ccc; cursor: not-allowed; }
        .back-btn { cursor: pointer; padding: 12px; margin-bottom: 20px; border-radius: 8px; border: 1px solid #ccc; background: #eee; width: 100%; font-weight: bold; font-size: 1rem; }
        
        .sidebar { flex: 1; min-width: 320px; display: flex; flex-direction: column; gap: 20px; }
        .cart-box, .info-card { background: white; padding: 20px; border-radius: 12px; border: 2px solid #25D366; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .cart-box h3, .info-card h3 { margin-top: 0; color: #333; font-size: 1.1rem; border-bottom: 2px solid #25D366; padding-bottom: 10px; text-transform: uppercase; }
        
        #cart-content { margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; max-height: 250px; overflow-y: auto; }
        .remove-btn { color: #ff4444; border: none; background: none; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
        .min-order-msg { color: #ff4444; font-size: 0.85rem; margin-bottom: 10px; display: none; text-align: center; font-weight: bold; }
        
        /* MOBIL LEBEG≈ê KOS√ÅR S√ÅV ST√çLUS */
        #mobile-cart-bar {
            display: none; position: fixed; bottom: 0; left: 0; width: 100%; background: #25D366; color: white;
            padding: 15px; text-align: center; font-weight: bold; font-size: 1.1rem; z-index: 1500;
            box-shadow: 0 -4px 15px rgba(0,0,0,0.2); cursor: pointer; justify-content: space-between; align-items: center; box-sizing: border-box;
        }

        #order-overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); z-index:2000; justify-content:center; align-items:center; }
        .order-form { background: white; padding: 25px; border-radius: 15px; width: 95%; max-width: 420px; max-height: 90vh; overflow-y: auto; }
        .order-form .input-group { position: relative; margin: 6px 0; }
        .order-form input, .order-form textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; font-size: 1rem; }
        .required-star { position: absolute; right: 10px; top: 12px; color: #ff4444; font-weight: bold; pointer-events: none; }
        .checkbox-row { display: flex; align-items: flex-start; gap: 10px; margin: 12px 0 5px 0; font-size: 0.88rem; cursor: pointer; text-align: left; }
        .checkbox-row input { width: 18px; height: 18px; margin-top: 2px; flex-shrink: 0; }
        
        .admin-panel { max-width: 1200px; margin: 40px auto; padding: 20px; background: #f0f0f0; border-radius: 12px; border: 1px dashed #ccc; text-align: center; }
        .admin-stats { display: flex; justify-content: center; gap: 30px; margin-top: 10px; }
        .stat-item { background: white; padding: 10px 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .reset-btn { background: #ff4444; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; margin-top: 10px; }

        footer { text-align: center; padding: 30px; color: #999; font-size: 0.8rem; border-top: 1px solid #eee; margin-top: 30px; }
    </style>
</head>
<body>

    <div class="banner-wrapper">
        <div class="banner"></div>
        <div class="lang-container">
            <button class="lang-btn active" id="btn-hu" onclick="changeLang('hu')">HU</button>
            <button class="lang-btn" id="btn-ro" onclick="changeLang('ro')">RO</button>
        </div>
    </div>

    <div id="mobile-cart-bar" onclick="handleCheckoutClick()">
        <span style="margin-left:15px">üõí <span id="mobile-total-val">0</span> lei</span>
        <span id="mobile-btn-text" style="margin-right:15px">RENDEL√âS ‚Üí</span>
    </div>

    <div class="container">
        <div id="category-view" class="categories"></div>
        <div id="menu-view">
            <button class="back-btn" id="back-btn-text" onclick="showCategories()">‚Üê VISSZA A KATEG√ìRI√ÅKHOZ</button>
            <h2 id="category-title"></h2>
            <div id="food-list-container" class="food-list"></div>
        </div>

        <div class="sidebar">
            <div class="cart-box">
                <h3 id="cart-title-text">üõí Kos√°r</h3>
                <div id="cart-content">A kosarad √ºres.</div>
                <div id="summary-details" style="font-size: 0.9rem; color: #555; margin-bottom: 10px;"></div>
                <p style="font-size: 1.2rem; margin-bottom: 5px;"><span id="total-text">√ñsszesen</span>: <strong id="total">0</strong> lei</p>
                <div id="min-order-warning" class="min-order-msg"></div>
                <button id="checkout-btn" class="add-btn" style="width:100%; font-size: 1rem; padding: 12px;" onclick="handleCheckoutClick()" disabled>RENDEL√âS LEAD√ÅSA</button>
            </div>

            <div class="info-card">
                <h3 id="contact-title-text">üìç Kapcsolat</h3>
                <p><strong>C√≠m:</strong> Corvinilor utca 28 sz√°m</p>
                <p><strong>H√≠v√°s:</strong> <a href="tel:+40757462161" style="color:#25D366; text-decoration:none; font-weight:bold;">0757 462 161</a></p>
            </div>
        </div>
    </div>

    <div id="order-overlay">
        <div class="order-form">
            <h3 style="margin-top:0" id="delivery-title-text">Sz√°ll√≠t√°si adatok</h3>
            <div class="input-group">
                <input type="text" id="cust-name" placeholder="Teljes n√©v" oninput="validateForm()">
                <span id="star-name" class="required-star">*</span>
            </div>
            <div class="input-group">
                <input type="text" id="cust-addr" placeholder="C√≠m (utca, h√°zsz√°m, emelet, apartament)" oninput="validateForm()">
                <span id="star-addr" class="required-star">*</span>
            </div>
            <div class="input-group">
                <input type="tel" id="cust-phone" placeholder="Telefonsz√°m" oninput="validateForm()">
                <span id="star-phone" class="required-star">*</span>
            </div>
            <div class="input-group">
                <textarea id="cust-note" rows="2" placeholder="Megjegyz√©s"></textarea>
            </div>
            
            <div style="margin: 15px 0;">
                <label class="checkbox-row"><input type="checkbox" id="card-payment"> <span id="card-pay-text">K√°rty√°val fizet√©s</span></label>
                <label class="checkbox-row"><input type="checkbox" id="call-request"> <span id="callback-text">K√©rek telefonos visszaigazol√°st.</span></label>
                <label class="checkbox-row" style="margin-top:15px; position: relative;">
                    <input type="checkbox" id="terms-accept" onchange="validateForm()"> 
                    <span id="terms-text">Elolvastam √©s elfogadom a felt√©teleket.</span>
                    <span id="star-terms" class="required-star" style="right:-15px; top:0;">*</span>
                </label>
            </div>
            
            <button id="final-send-btn" class="add-btn" style="background:#25D366; width:100%; padding: 14px;" onclick="sendWhatsApp()" disabled>K√ºld√©s WhatsApp-on</button>
            <button class="back-btn" id="cancel-btn-text" style="margin-top:10px; border:none;" onclick="document.getElementById('order-overlay').style.display='none'">M√©gse</button>
        </div>
    </div>

    <div class="admin-panel">
        <h4 style="margin:0; color:#666;">üìä Napi Forgalmi Seg√©d</h4>
        <div class="admin-stats">
            <div class="stat-item">Mai Bev√©tel: <strong id="admin-revenue">0</strong> lei</div>
            <div class="stat-item">Rendel√©sek: <strong id="admin-count">0</strong> db</div>
        </div>
        <button class="reset-btn" onclick="resetAdminStats()">Mai adatok t√∂rl√©se</button>
    </div>

    <footer>&copy; 2024 Marinata √âtterem - Satu Mare</footer>

    <script>
        const WHATSAPP_NUMBER = "40742901804";
        const MIN_ORDER_VALUE = 30;
        const PACKAGING_FEE = 4.5;
        let currentLang = 'hu';
        let cart = [];

        const translations = {
            hu: { 
                cartEmpty: "A kosarad √ºres.", total: "√ñsszesen", orderBtn: "RENDEL√âS LEAD√ÅSA", backBtn: "‚Üê VISSZA A KATEG√ìRI√ÅKHOZ", cartTitle: "üõí Kos√°r", contactTitle: "üìç Kapcsolat", deliveryTitle: "Sz√°ll√≠t√°si adatok", terms: "Elolvastam √©s elfogadom a felt√©teleket.", 
                callback: "K√©rek telefonos visszaigazol√°st.", cardPay: "K√°rty√°val fizet√©s", sendBtn: "K√ºld√©s WhatsApp-on", cancelBtn: "M√©gse", minOrderMsg: "M√©g {diff} lei a minimum rendel√©sig!", packaging: "Csomagol√°s", products: "Term√©kek", addToCart: "Kos√°rba",
                placeholderAddr: "C√≠m (utca, h√°zsz√°m, emelet, apartament)", placeholderNote: "Megjegyz√©s", mobileOrder: "RENDEL√âS ‚Üí"
            },
            ro: { 
                cartEmpty: "Co»ôul este gol.", total: "Total", orderBtn: "TRIMITE COMANDA", backBtn: "‚Üê √éNAPOI LA CATEGORII", cartTitle: "üõí CO»ò", contactTitle: "üìç CONTACT", deliveryTitle: "Date de livrare", terms: "Am citit »ôi accept termenii.", 
                callback: "Doresc confirmare telefonicƒÉ.", cardPay: "Plata cu cardul", sendBtn: "Trimite pe WhatsApp", cancelBtn: "AnuleazƒÉ", minOrderMsg: "Mai ave»õi nevoie de {diff} lei!", packaging: "Ambalaj", products: "Produse", addToCart: "AdaugƒÉ",
                placeholderAddr: "AdresƒÉ (stradƒÉ, numƒÉr, etaj, apartament)", placeholderNote: "Men»õiuni", mobileOrder: "TRIMITE ‚Üí"
            }
        };

        const database = {
            'reggeli': [{name:{hu:'Marinata omlett (250g)', ro:'OmletƒÉ Marinata (250g)'}, price:25},{name:{hu:'Toscana t√ºk√∂rtoj√°s (250g)', ro:'Ochiuri Toscana (250g)'}, price:24}],
            'starterek': [{name:{hu:'Vegyes bruschete (120g)', ro:'Bruschete mixte (120g)'}, price:34},{name:{hu:'R√°ntott sajt feh√©r sz√≥sszal (200g)', ro:'Ca»ôcaval pane cu sos alb (200g)'}, price:40},{name:{hu:'Grillezzett camembert (200g)', ro:'Camembert la grƒÉtar (200g)'}, price:39},{name:{hu:'R√°ntott camembert burgony√°val (230g)', ro:'Camembert pane cu cartofi (230g)'}, price:49}],
            'salatak': [{name:{hu:'C√©z√°r sal√°ta (400g)', ro:'SalatƒÉ Caesar (400g)'}, price:36},{name:{hu:'Tonhalas sal√°ta (360g)', ro:'SalatƒÉ cu ton (360g)'}, price:35},{name:{hu:'G√∂r√∂g sal√°ta (400g)', ro:'SalatƒÉ greceascƒÉ (400g)'}, price:33},{name:{hu:'Csirkemelles sal√°ta (400g)', ro:'SalatƒÉ cu pui (400g)'}, price:37},{name:{hu:'Primavera sal√°ta (400g)', ro:'SalatƒÉ Primavera (400g)'}, price:37}],
            'levesek': [{name:{hu:'Pacal csorba (400ml)', ro:'CiorbƒÉ de burtƒÉ (400ml)'}, price:23},{name:{hu:'Babguly√°s (400ml)', ro:'Gula»ô de fasole (400ml)'}, price:23},{name:{hu:'Parasztcsorba marhah√∫ssal (400ml)', ro:'CiorbƒÉ »õƒÉrƒÉneascƒÉ de vƒÉcu»õƒÉ (400ml)'}, price:23},{name:{hu:'Gomba kr√©mleves (400ml)', ro:'SupƒÉ cremƒÉ de ciuperci (400ml)'}, price:24},{name:{hu:'Sajtkr√©mleves (400ml)', ro:'SupƒÉ cremƒÉ de br√¢nzƒÉ (400ml)'}, price:24},{name:{hu:'Rad√≥ci leves (400ml)', ro:'CiorbƒÉ RƒÉdƒÉu»õeanƒÉ (400ml)'}, price:22},{name:{hu:'J√≥kai bableves (400ml)', ro:'CiorbƒÉ de fasole J√≥kai (400ml)'}, price:34},{name:{hu:'Extra cs√≠p≈ës paprika', ro:'Ardei iute extra'}, price:5},{name:{hu:'Extra tejf√∂l', ro:'Sm√¢nt√¢nƒÉ extra'}, price:5}],
            'talak': [{name:{hu:'Grill t√°l (1.2kg)', ro:'Platou Grill (1.2kg)'}, price:265},{name:{hu:'Vegyes t√°l (0.8kg)', ro:'Platou Mixt (0.8kg)'}, price:255}],
            'csirke': [{name:{hu:'Roston s√ºlt csirkemell (180g)', ro:'Piept de pui la grƒÉtar (180g)'}, price:39},{name:{hu:'Cornflakes r√°ntott csirke (180g)', ro:'Pui √Æn crustƒÉ de cornflakes (180g)'}, price:45},{name:{hu:'Feta-bacon t√∂lt√∂tt csirkemell (200g)', ro:'Piept de pui umplut cu feta √©s bacon (200g)'}, price:48},{name:{hu:'Pik√°ns crispy sz√°rnyak (250g)', ro:'Aripioare crispy picante (250g)'}, price:46},{name:{hu:'Csirke palerm√≥i szelet (200g)', ro:'Pui Palermo (200g)'}, price:55},{name:{hu:'Marinata dippers csirke (230g)', ro:'Pui Marinata dippers (230g)'}, price:58},{name:{hu:'Hawaii csirkemell (250g)', ro:'Piept de pui Hawaii (250g)'}, price:58},{name:{hu:'Csirke paprik√°s (400g)', ro:'Paprica»ô de pui (400g)'}, price:55},{name:{hu:'Cordon Bleu csirkemellb≈ël (450g)', ro:'Cordon Bleu din piept de pui (450g)'}, price:48},{name:{hu:'Csirkemell gomb√°s m√°rt√°sban (400g)', ro:'Piept de pui √Æn sos de ciuperci (400g)'}, price:59},{name:{hu:'Pr√©zliben r√°ntott csirke (180g)', ro:'Pui pane (180g)'}, price:45},{name:{hu:'R√°ntott sonk√°s-mang√≥s csirke (200g)', ro:'Pui pane cu »ôuncƒÉ »ôi mango (200g)'}, price:48}],
            'sertes': [{name:{hu:'Sert√©s Palerm√≥-i (200g)', ro:'Porc Palermo (200g)'}, price:50},{name:{hu:'Grillen k√©sz√≠tett tarja (200g)', ro:'CeafƒÉ de porc la grƒÉtar (200g)'}, price:61},{name:{hu:'Cig√°ny pecsenye (220g)', ro:'FripturƒÉ »õigƒÉneascƒÉ (220g)'}, price:61},{name:{hu:'Csontos-b≈ër√∂s malac T-bone (250g)', ro:'T-bone de purcel cu »ôoric (250g)'}, price:75},{name:{hu:'Sert√©s oldalas BBQ (400g)', ro:'Coaste de porc BBQ (400g)'}, price:63},{name:{hu:'M√©zes-must√°ros oldalas (400g)', ro:'Coaste cu miere √©s mu»ôtar (400g)'}, price:65},{name:{hu:'Eiffel torony (450g)', ro:'Turnul Eiffel (450g)'}, price:67},{name:{hu:'Roppan√≥s malaccs√ºl√∂k (850g)', ro:'Ciolan de purcel crocant (850g)'}, price:102},{name:{hu:'Pr√©zliben r√°ntott sert√©sh√∫s (180g)', ro:'Carne de porc pane (180g)'}, price:45}],
            'hal': [{name:{hu:'Roston s√ºlt lazac fil√© (200g)', ro:'File de somon la grƒÉtar (200g)'}, price:63},{name:{hu:'Roston s√ºlt pisztr√°ng (230g)', ro:'PƒÉstrƒÉv la grƒÉtar (230g)'}, price:44},{name:{hu:'Kukoricalisztes pisztr√°ng (230g)', ro:'PƒÉstrƒÉv √Æn mƒÉlai (230g)'}, price:46},{name:{hu:'Szardella t√°l (500g)', ro:'Platou hamsii (500g)'}, price:58},{name:{hu:'Lazac salsa sz√≥sszal (400g)', ro:'Somon cu sos salsa (400g)'}, price:69},{name:{hu:'Garn√©lar√°k pank√≥ morzs√°ban (400g)', ro:'Creve»õi √Æn crustƒÉ panko (400g)'}, price:60}],
            'marha': [{name:{hu:'Pacal p√∂rk√∂lt galusk√°val (400g)', ro:'TocƒÉni»õƒÉ de burtƒÉ cu gƒÉlu»ôte (400g)'}, price:60},{name:{hu:'Cs√≠p≈ës t√°l (220g)', ro:'Tigaie picantƒÉ (220g)'}, price:68}],
            'burger': [{name:{hu:'Marha h√∫sos burger (450g)', ro:'Burger de vitƒÉ (450g)'}, price:53},{name:{hu:'Royal burger (450g)', ro:'Royal burger (450g)'}, price:55},{name:{hu:'Pulled porc burger (450g)', ro:'Pulled pork burger (450g)'}, price:53},{name:{hu:'Crispy csirke burger (450g)', ro:'Burger pui crispy (450g)'}, price:50},{name:{hu:'Marinata burger (450g)', ro:'Burger Marinata (450g)'}, price:64},{name:{hu:'Gyros t√°l/pit√°ban (450g)', ro:'Platou Gyros / √Æn pitƒÉ (450g)'}, price:64},{name:{hu:'Miccs s√ºlt burgony√°val (4db)', ro:'Mici cu cartofi prƒÉji»õi (4buc)'}, price:36},{name:{hu:'Dippers burgonya szamur√°jjal (230g)', ro:'Cartofi dippers cu sos samurai (230g)'}, price:26}],
            'meleg_szosz': [{name:{hu:'Hiribi gomba sz√≥sz (80g)', ro:'Sos de hribi (80g)'}, price:12},{name:{hu:'Champignon gomba sz√≥sz (80g)', ro:'Sos de ciuperci champignon (80g)'}, price:11},{name:{hu:'Gorgonzola sz√≥sz (80g)', ro:'Sos gorgonzola (80g)'}, price:14},{name:{hu:'√âdes savany√∫ sz√≥sz (80g)', ro:'Sos dulce acri»ôor (80g)'}, price:12},{name:{hu:'Fokhagyma sz√≥sz (80g)', ro:'Sos de usturoi (80g)'}, price:11}],
            'teszta': [{name:{hu:'Carbonara spagetti (400g)', ro:'Spaghetti Carbonara (400g)'}, price:40},{name:{hu:'Penne arabiata (400g)', ro:'Penne Arrabbiata (400g)'}, price:37},{name:{hu:'Tagliatelle funghi porcini (400g)', ro:'Tagliatelle cu hribi (400g)'}, price:40},{name:{hu:'Cs≈ëben s√ºlt penne (400g)', ro:'Penne al forno (400g)'}, price:39},{name:{hu:'Cs≈ëben s√ºlt bolognese (400g)', ro:'Bolognese al forno (400g)'}, price:43},{name:{hu:'Garn√©lar√°kos cukkinis t√©szta (420g)', ro:'Paste cu creve»õi √©s dovlecei (420g)'}, price:48},{name:{hu:'Garn√©lar√°kos tagliatelle (420g)', ro:'Tagliatelle cu creve»õi (420g)'}, price:48},{name:{hu:'Mil√°n√≥i penne (400g)', ro:'Penne milanese (400g)'}, price:38},{name:{hu:'Quatro formaggi penne (400g)', ro:'Penne Quattro Formaggi (400g)'}, price:43},{name:{hu:'Carbonara penne (400g)', ro:'Penne Carbonara (400g)'}, price:42},{name:{hu:'Gnocchi carbonara al forno (400g)', ro:'Gnocchi Carbonara al forno (400g)'}, price:44},{name:{hu:'Gnocchi quattro formaggi (400g)', ro:'Gnocchi Quattro Formaggi (400g)'}, price:45},{name:{hu:'T√∫r√≥s tepert≈ës puliszka (230g)', ro:'MƒÉmƒÉligƒÉ cu br√¢nzƒÉ √©s jumƒÉri (230g)'}, price:39},{name:{hu:'Erd√©lyi puliszka (250g)', ro:'MƒÉmƒÉligƒÉ transilvƒÉneanƒÉ (250g)'}, price:42}],
            'koretek': [{name:{hu:'Has√°bburgonya (200g)', ro:'Cartofi prƒÉji»õi (200g)'}, price:12},{name:{hu:'Burgonya p√ºr√© (200g)', ro:'Piure de cartofi (200g)'}, price:11},{name:{hu:'Wedges burgonya (200g)', ro:'Cartofi wedges (200g)'}, price:11},{name:{hu:'Arany burgonya (200g)', ro:'Cartofi aurii (200g)'}, price:12},{name:{hu:'Nat√∫r burgonya (200g)', ro:'Cartofi natur (200g)'}, price:11},{name:{hu:'Rizses z√∂lds√©g (200g)', ro:'Legume cu orez (200g)'}, price:10},{name:{hu:'H√°zi galuska (200g)', ro:'GƒÉlu»ôte de casƒÉ (200g)'}, price:11},{name:{hu:'Puliszka (200g)', ro:'MƒÉmƒÉligƒÉ (200g)'}, price:12},{name:{hu:'Rizotto (200g)', ro:'Risotto (200g)'}, price:18}],
            'savanyusag': [{name:{hu:'K√°poszta sal√°ta (150g)', ro:'SalatƒÉ de varzƒÉ (150g)'}, price:11},{name:{hu:'Paradicsom sal√°ta (150g)', ro:'SalatƒÉ de ro»ôii (150g)'}, price:11},{name:{hu:'Paradicsom sal√°ta teleme√°val (150g)', ro:'SalatƒÉ de ro»ôii cu telemea (150g)'}, price:11},{name:{hu:'Lilahagyma sal√°ta (150g)', ro:'SalatƒÉ de ceapƒÉ ro»ôie (150g)'}, price:11},{name:{hu:'Friss uborka sal√°ta (150g)', ro:'SalatƒÉ de castrave»õi proaspe»õi (150g)'}, price:10},{name:{hu:'Friss vegyes sal√°ta (150g)', ro:'SalatƒÉ mixtƒÉ proaspƒÉtƒÉ (150g)'}, price:12},{name:{hu:'Vegyes savany√∫s√°g (150g)', ro:'MurƒÉturi mixte (150g)'}, price:12},{name:{hu:'C√©kla sal√°ta (150g)', ro:'SalatƒÉ de sfeclƒÉ (150g)'}, price:12}],
            'pizza': [{name:{hu:'Pizza Salami (500g)', ro:'Pizza Salami (500g)'}, price:27},{name:{hu:'Margherita (500g)', ro:'Margherita (500g)'}, price:24},{name:{hu:'Funghi (550g)', ro:'Funghi (550g)'}, price:25},{name:{hu:'Prosciutto (550g)', ro:'Prosciutto (550g)'}, price:26},{name:{hu:'Capricciosa (600g)', ro:'Capricciosa (600g)'}, price:29},{name:{hu:'Diavolo (600g)', ro:'Diavolo (600g)'}, price:28},{name:{hu:'Peperoncino (300g)', ro:'Peperoncino (300g)'}, price:28},{name:{hu:'Dallas (600g)', ro:'Dallas (600g)'}, price:28.5},{name:{hu:'California (650g)', ro:'California (650g)'}, price:33},{name:{hu:'Ungarese (600g)', ro:'Ungarese (600g)'}, price:31},{name:{hu:'Tonno (600g)', ro:'Tonno (600g)'}, price:32},{name:{hu:'Parmegiano (600g)', ro:'Parmegiano (600g)'}, price:37},{name:{hu:'Americana (650g)', ro:'Americana (650g)'}, price:33},{name:{hu:'Mexicana (600g)', ro:'Mexicana (600g)'}, price:31},{name:{hu:'Carbonara (600g)', ro:'Carbonara (600g)'}, price:31},{name:{hu:'Giovanni (600g)', ro:'Giovanni (600g)'}, price:33},{name:{hu:'Messina (600g)', ro:'Messina (600g)'}, price:33},{name:{hu:'Sevilla (650g)', ro:'Sevilla (650g)'}, price:42},{name:{hu:'Mozzarelleg (600g)', ro:'Mozzarelleg (600g)'}, price:34},{name:{hu:'Milano (600g)', ro:'Milano (600g)'}, price:34},{name:{hu:'Cheddar (600g)', ro:'Cheddar (600g)'}, price:35},{name:{hu:'Quattro stagioni (650g)', ro:'Quattro stagioni (650g)'}, price:35},{name:{hu:'Quattro carni (650g)', ro:'Quattro carni (650g)'}, price:38},{name:{hu:'Quattro formaggi (600g)', ro:'Quattro formaggi (600g)'}, price:37},{name:{hu:'Pollo (600g)', ro:'Pollo (600g)'}, price:36},{name:{hu:'Palermo (600g)', ro:'Palermo (600g)'}, price:32},{name:{hu:'Marinata (600g)', ro:'Marinata (600g)'}, price:36},{name:{hu:'Hawai (600g)', ro:'Hawai (600g)'}, price:30.5},{name:{hu:'Florenza (600g)', ro:'Florenza (600g)'}, price:35},{name:{hu:'Vegetarian (600g)', ro:'Vegetarian (600g)'}, price:31}],
            'specialis': [{name:{hu:'Calzone (600g)', ro:'Calzone (600g)'}, price:34},{name:{hu:'Focaccia (400g)', ro:'Focaccia (400g)'}, price:22}],
            'desszert': [{name:{hu:'Vegyes fagyi (180g)', ro:'√énghe»õatƒÉ mixtƒÉ (180g)'}, price:25},{name:{hu:'Piszt√°ci√°s palacsinta (250g)', ro:'ClƒÉtite cu fistic (250g)'}, price:32},{name:{hu:'Csoki szufl√© (250g)', ro:'Sufleu de ciocolatƒÉ (250g)'}, price:31},{name:{hu:'Finettis ban√°nos palacsinta (180g)', ro:'ClƒÉtite Finetti banane (180g)'}, price:28},{name:{hu:'T√∫r√≥s palacsinta (200g)', ro:'ClƒÉtite cu br√¢nzƒÉ (200g)'}, price:34},{name:{hu:'√Åfany√°s lekv√°ros palacsinta (160g)', ro:'ClƒÉtite gem afine (160g)'}, price:25},{name:{hu:'Papanasi √°fony√°val (200g)', ro:'Papana»ôi cu afine (200g)'}, price:45}],
            'kave_tea': [{name:{hu:'Ice coffe (200 ml)', ro:'Ice coffee (200 ml)'}, price:15},{name:{hu:'Espresso (30 ml)', ro:'Espresso (30 ml)'}, price:10},{name:{hu:'Capuccino espresso (100 ml)', ro:'Cappuccino espresso (100 ml)'}, price:11},{name:{hu:'Latte machiato (200 ml)', ro:'Latte macchiato (200 ml)'}, price:15},{name:{hu:'Forr√≥ csoki (150 ml)', ro:'CiocolatƒÉ caldƒÉ (150 ml)'}, price:14},{name:{hu:'Tea (250 ml)', ro:'Ceai (250 ml)'}, price:10}],
            'udito': [{name:{hu:'Limon√°d√© (400 ml)', ro:'LimonadƒÉ (400 ml)'}, price:13},{name:{hu:'Coca Cola (250 ml)', ro:'Coca Cola (250 ml)'}, price:9.5},{name:{hu:'Cappy (250 ml)', ro:'Cappy (250 ml)'}, price:10},{name:{hu:'Dorna √°sv√°nyv√≠z (330 ml)', ro:'ApƒÉ mineralƒÉ Dorna (330 ml)'}, price:7},{name:{hu:'Fresh (250 ml)', ro:'Fresh (250 ml)'}, price:16}],
            'sorok': [{name:{hu:'Ursus (500 ml)', ro:'Ursus (500 ml)'}, price:10},{name:{hu:'Peroni (500 ml)', ro:'Peroni (500 ml)'}, price:11},{name:{hu:'Kozel lager (330 ml)', ro:'Kozel lager (330 ml)'}, price:8.5},{name:{hu:'Corona (355 ml)', ro:'Corona (355 ml)'}, price:14}],
            'energia': [{name:{hu:'Burn (250 ml)', ro:'Burn (250 ml)'}, price:12},{name:{hu:'Red Bull (250 ml)', ro:'Red Bull (250 ml)'}, price:14}],
            'roviditalok': [{name:{hu:'Jack Daniels (50 ml)', ro:'Jack Daniels (50 ml)'}, price:14},{name:{hu:'J√§germeister (50 ml)', ro:'J√§germeister (50 ml)'}, price:12},{name:{hu:'Unicum (50 ml)', ro:'Unicum (50 ml)'}, price:12}],
            'borok': [{name:{hu:'Sauvignon Blanc (750 ml)', ro:'Sauvignon Blanc (750 ml)'}, price:50},{name:{hu:'Vinul Casei (500 ml)', ro:'Vinul Casei (500 ml)'}, price:17}],
            'szoszok_csomag': [{name:{hu:'Feh√©r sz√≥sz', ro:'Sos alb'}, price:4.5},{name:{hu:'Piros sz√≥sz', ro:'Sos ro»ôu'}, price:4.5},{name:{hu:'Csomagol√°s', ro:'Ambalaj'}, price:4.5}]
        };

        const categories = [
            { id: 'reggeli', hu: 'Reggeli', ro: 'Mic dejun', icon: 'üç≥' },
            { id: 'starterek', hu: 'Starterek', ro: 'Startere', icon: 'ü•ó' },
            { id: 'salatak', hu: 'Sal√°t√°k', ro: 'Salate', icon: 'üçÉ' },
            { id: 'levesek', hu: 'Levesek / Csorb√°k', ro: 'Supe / Ciorbe', icon: 'üç≤' },
            { id: 'talak', hu: '3 szem√©lyes t√°lak', ro: 'Platouri 3 pers', icon: 'üçΩÔ∏è' },
            { id: 'csirke', hu: 'Csirke √©telek', ro: 'Preparate pui', icon: 'üçó' },
            { id: 'sertes', hu: 'Sert√©s √©telek', ro: 'Preparate porc', icon: 'ü•©' },
            { id: 'hal', hu: 'Hal √©telek', ro: 'Preparate pe»ôte', icon: 'üêü' },
            { id: 'marha', hu: 'Marha √©telek', ro: 'Preparate vitƒÉ', icon: 'üçñ' },
            { id: 'burger', hu: 'Burgerek & Mixek', ro: 'Burgeri & Mixuri', icon: 'üçî' },
            { id: 'meleg_szosz', hu: 'Meleg sz√≥szok', ro: 'Sosuri calde', icon: 'üçØ' },
            { id: 'teszta', hu: 'T√©szt√°k & Puliszk√°k', ro: 'Paste & MƒÉmƒÉligƒÉ', icon: 'üçù' },
            { id: 'koretek', hu: 'K√∂retek', ro: 'Garnituri', icon: 'üçü' },
            { id: 'savanyusag', hu: 'Sal√°t√°k / Savany√∫k', ro: 'Salate / MurƒÉturi', icon: 'ü•í' },
            { id: 'pizza', hu: 'Pizza', ro: 'Pizza', icon: 'üçï' },
            { id: 'specialis', hu: 'Specialit√°sok', ro: 'SpecialitƒÉ»õi', icon: 'üåü' },
            { id: 'desszert', hu: 'Desszertek', ro: 'Deserturi', icon: 'üç∞' },
            { id: 'kave_tea', hu: 'K√°v√©, Tea, Csoki', ro: 'Cafea, Ceai, CiocolatƒÉ', icon: '‚òï' },
            { id: 'udito', hu: '√úd√≠t≈ë, Fresh, Limon√°d√©', ro: 'RƒÉcoritoare, Fresh, LimonadƒÉ', icon: 'ü•§' },
            { id: 'sorok', hu: 'S√∂r√∂k', ro: 'Bere', icon: 'üç∫' },
            { id: 'energia', hu: 'Energia italok', ro: 'BƒÉuturi energizante', icon: '‚ö°' },
            { id: 'roviditalok', hu: 'R√∂viditalok', ro: 'BƒÉuturi spirtoase', icon: 'ü•É' },
            { id: 'borok', hu: 'Domeniile »òere»ô Borok', ro: 'Vinuri Domeniile »òere»ô', icon: 'üç∑' },
            { id: 'szoszok_csomag', hu: 'Sz√≥szok', ro: 'Sosuri', icon: 'ü•°' }
        ];

        const NO_PACKAGING_ITEMS = ['Feh√©r sz√≥sz', 'Piros sz√≥sz', 'Csomagol√°s', 'Extra cs√≠p≈ës paprika', 'Extra tejf√∂l', 'Espresso (30 ml)'];

        function changeLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + lang).classList.add('active');
            const t = translations[lang];
            
            document.getElementById('back-btn-text').innerText = t.backBtn;
            document.getElementById('cart-title-text').innerText = t.cartTitle;
            document.getElementById('total-text').innerText = t.total;
            document.getElementById('checkout-btn').innerText = t.orderBtn; 
            document.getElementById('delivery-title-text').innerText = t.deliveryTitle;
            document.getElementById('final-send-btn').innerText = t.sendBtn;
            document.getElementById('terms-text').innerText = t.terms;
            document.getElementById('card-pay-text').innerText = t.cardPay;
            document.getElementById('callback-text').innerText = t.callback;
            document.getElementById('cancel-btn-text').innerText = t.cancelBtn;
            document.getElementById('cust-addr').placeholder = t.placeholderAddr;
            document.getElementById('cust-note').placeholder = t.placeholderNote;
            document.getElementById('mobile-btn-text').innerText = t.mobileOrder;

            init();
            renderCart();
            validateForm(); 
        }

        function init() {
            const grid = document.getElementById('category-view');
            grid.innerHTML = categories.map(cat => `<div class="cat-card" onclick="showMenu('${cat.id}', '${cat[currentLang]}')"><div>${cat.icon}</div><h3>${cat[currentLang]}</h3></div>`).join('');
            loadAdminStats();
        }

        function showMenu(id, name) {
            document.getElementById('category-view').style.display = 'none';
            document.getElementById('menu-view').style.display = 'block';
            document.getElementById('category-title').innerText = name;
            const container = document.getElementById('food-list-container');
            container.innerHTML = (database[id] || []).map(item => `
                <div class="food-item">
                    <strong>${item.name[currentLang]}</strong>
                    <span>${item.price} lei</span>
                    <button class="add-btn" onclick="addToCart('${item.name.hu}', '${item.name.ro}', ${item.price})">${translations[currentLang].addToCart}</button>
                </div>`).join('');
        }

        function showCategories() {
            document.getElementById('category-view').style.display = 'grid';
            document.getElementById('menu-view').style.display = 'none';
        }

        function addToCart(hu, ro, price) {
            cart.push({ hu, ro, price });
            renderCart();
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            renderCart();
        }

        function renderCart() {
            const content = document.getElementById('cart-content');
            const totalSpan = document.getElementById('total');
            const mobileVal = document.getElementById('mobile-total-val');
            const mobileBar = document.getElementById('mobile-cart-bar');
            const t = translations[currentLang];
            
            if(cart.length === 0) {
                content.innerHTML = t.cartEmpty;
                totalSpan.innerText = '0';
                mobileVal.innerText = '0';
                document.getElementById('summary-details').innerHTML = '';
                document.getElementById('checkout-btn').disabled = true;
                mobileBar.style.display = 'none';
                return;
            }
            
            content.innerHTML = cart.map((item, i) => `<div style="display:flex; justify-content:space-between; margin-bottom:5px;"><span>${item[currentLang]}</span><span>${item.price} lei <button class="remove-btn" onclick="removeFromCart(${i})">‚úï</button></span></div>`).join('');
            
            const prodSum = cart.reduce((s, i) => s + i.price, 0);
            const pkgCount = cart.filter(item => !NO_PACKAGING_ITEMS.includes(item.hu)).length;
            const pkgSum = pkgCount * PACKAGING_FEE;
            const total = prodSum + pkgSum;
            
            document.getElementById('summary-details').innerHTML = `${t.products}: ${prodSum.toFixed(1)} lei<br>${t.packaging}: ${pkgSum.toFixed(1)} lei`;
            totalSpan.innerText = total.toFixed(1);
            mobileVal.innerText = total.toFixed(1);

            // Mobil s√°v megjelen√≠t√©se ha van t√©tel √©s mobiln√©zetben vagyunk
            if(window.innerWidth <= 600) {
                mobileBar.style.display = 'flex';
            }
            
            const diff = MIN_ORDER_VALUE - total;
            const warn = document.getElementById('min-order-warning');
            if(diff > 0) {
                warn.innerText = t.minOrderMsg.replace('{diff}', diff.toFixed(1));
                warn.style.display = 'block';
                document.getElementById('checkout-btn').disabled = true;
                mobileBar.style.backgroundColor = '#999'; // sz√ºrke ha nincs meg a minimum
            } else {
                warn.style.display = 'none';
                document.getElementById('checkout-btn').disabled = false;
                mobileBar.style.backgroundColor = '#25D366'; // z√∂ld ha rendelhet≈ë
            }
        }

        function handleCheckoutClick() { 
            const total = parseFloat(document.getElementById('total').innerText);
            if(total >= MIN_ORDER_VALUE) {
                document.getElementById('order-overlay').style.display = 'flex'; 
            }
        }
        
        function validateForm() { 
            const name = document.getElementById('cust-name').value.trim();
            const addr = document.getElementById('cust-addr').value.trim();
            const phone = document.getElementById('cust-phone').value.trim();
            const accepted = document.getElementById('terms-accept').checked;
            
            document.getElementById('star-name').style.display = name ? 'none' : 'block';
            document.getElementById('star-addr').style.display = addr ? 'none' : 'block';
            document.getElementById('star-phone').style.display = phone ? 'none' : 'block';
            document.getElementById('star-terms').style.display = accepted ? 'none' : 'block';

            document.getElementById('final-send-btn').disabled = !(name && addr && phone && accepted); 
        }

        function loadAdminStats() {
            document.getElementById('admin-revenue').innerText = parseFloat(localStorage.getItem('marinata_revenue') || 0).toFixed(1);
            document.getElementById('admin-count').innerText = localStorage.getItem('marinata_count') || 0;
        }

        function resetAdminStats() {
            if(confirm("Biztosan t√∂rl√∂d a mai statisztik√°t?")) {
                localStorage.setItem('marinata_revenue', 0);
                localStorage.setItem('marinata_count', 0);
                loadAdminStats();
            }
        }

        function sendWhatsApp() {
            const name = document.getElementById('cust-name').value;
            const addr = document.getElementById('cust-addr').value;
            const phone = document.getElementById('cust-phone').value;
            const note = document.getElementById('cust-note').value;
            const card = document.getElementById('card-payment').checked ? "K√ÅRTYA" : "KP";
            const call = document.getElementById('call-request').checked ? "K√©rek h√≠v√°st" : "Nem kell h√≠v√°s";
            
            const prodSum = cart.reduce((s, i) => s + i.price, 0);
            const pkgCount = cart.filter(item => !NO_PACKAGING_ITEMS.includes(item.hu)).length;
            const pkgSum = pkgCount * PACKAGING_FEE;
            const total = prodSum + pkgSum;

            localStorage.setItem('marinata_revenue', parseFloat(localStorage.getItem('marinata_revenue') || 0) + total);
            localStorage.setItem('marinata_count', parseInt(localStorage.getItem('marinata_count') || 0) + 1);
            loadAdminStats();

            let msg = `*RENDEL√âS*\nN√©v: ${name}\nC√≠m: ${addr}\nTel: ${phone}\nFizet√©s: ${card}\n${call}\nMegj: ${note || '-'}\n\n*Term√©kek:*\n` + cart.map(i => `- ${i[currentLang]}`).join('\n');
            msg += `\n\n*√ñsszesen: ${total.toFixed(1)} lei*`;
            
            window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`);
        }

        init();
        changeLang('hu');
    </script>
</body>
</html>